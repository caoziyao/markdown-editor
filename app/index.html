<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Markdown-Editor</title>
    <link rel="stylesheet" href="./static/css/common.css">
    <link rel="stylesheet" href="./static/css/bootstrap.min.css">
    <link rel="stylesheet" href="./static/css/font-awesome.min.css">
</head>
<body>
<!-- <h1>Markdown-editor</h1> -->

<div class="mardown-editor">

  <div class="side-meenu">

  </div>

  <div class="main">
    <div class="main-left-panel">
      <div class="editor-src">
        <textarea class="input-src" id='id-input-src' name="name" rows="38" cols="40"></textarea>
      </div>
    </div>

    <div class="main-right-panel">
      <div class="editor-result">
      </div>
    </div>
  </div>

  <div class="cover-bottom">
    <div class="button-bottom l10n-title" id="button-bottom-menu" title="菜单" data-origin-title="Menu">
          <i id="id-slide-btn" class="fa fa-bars" aria-hidden="true"></i>
    </div>
  </div>


<!-- // style="display: none" -->
  <div id="id-slidemenu" class="showhide" >
    <div class="side-menu" style="margin-left: 0px;">
            <div id="logo">MOEDITOR</div>
            <ul class="slidemenu-ul">
                <li data-action="new" class="l10n" data-origin-text="New">新建</li>
                <li data-action="open" class="l10n" data-origin-text="Open">打开</li>
                <li data-action="save" class="l10n" data-origin-text="Save">保存</li>
                <li data-action="save-as" class="l10n" data-origin-text="Save as">另存为</li>
                <li class="break"></li>
                <li data-action="export-as-html" class="l10n" data-origin-text="Export as HTML">导出为 HTML</li>
                <li data-action="export-as-pdf" class="l10n" data-origin-text="Export as PDF">导出为 PDF</li>
                <li class="break"></li>
                <li data-action="settings" class="l10n" data-origin-text="Settings">设置</li>
                <li data-action="about" class="l10n" data-origin-text="About">关于</li>
            </ul>
        </div>
  </div>

</div>

<script>
    var Remarkable = require('remarkable');

    var e = sel => document.querySelector(sel);

    var log = console.log.bind(console);

    var closeParent = (target, element) => {
      var ele = e(element)
      var par = target.parentElement
      log('par', par)
    }

    // markdown 事件监听
    e('#id-input-src').addEventListener('input', function() {
        var src = event.target.value
        var md = new Remarkable()
        var html = md.render(src)
        e('.editor-result').innerHTML = html
    })


    // 填出侧边栏
    e('#id-slide-btn').addEventListener('click', function(event) {
      var sideMenu = e('#id-slidemenu');
      var elemClass = sideMenu.classList

      if (elemClass.contains('showhide')) {
        elemClass.remove('showhide')
      } else {
        elemClass.add('showhide')
      }

    })




</script>

</body>
</html>
